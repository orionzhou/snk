#### General/shared rules ####
tmpdir: /scratch.global/zhoux379/temp
email: zhoux379@umn.edu
java:
    mem: 8G
    tmpdir: /scratch.global/zhoux379/temp
threads: 1    
dirl: logs
dirp: pbs
dird: data
zip_re: (\.gz|\.zip|\.bz2)
dirg: /home/springer/zhoux379/data/genome

db:
    ref: /home/springer/zhoux379/data/genome/B73/10_genome.fna
    chrom_sizes: /home/springer/zhoux379/data/genome/B73/15_intervals/01.chrom.sizes
    regions: /home/springer/zhoux379/data/genome/B73/15_intervals/20.gap.sep.60win.tsv
    #regions: /home/springer/zhoux379/data/genome/B73/17_regions/11.chrom.10win.tsv

annotation:
    gtf: /home/springer/zhoux379/data/genome/B73/51.gtf
    bed: /home/springer/zhoux379/data/genome/B73/v37/gene.bed

genomes:
    B73:
        gdir: B73
    Mo17:
        gdir: Mo17
    W22:
        gdir: W22
    PH207:
        gdir: PH207
    PHB47:
        gdir: PHB47

fq_compress:
    idir: 09_fastq_raw
    odir: 10_fastq
    threads: 6

fastq_dump:
    odir: 10_fastq_slow
fasterq_dump:
    odir: 10_fastq
    threads: 4
    mem: 10GB

deinterleave:
    idir: 09_fq_interleaved
    odir: 10_fastq
    threads: 10
    extra: ''

trimmomatic:
    idir: 10_fastq
    odir: 14_trim
    adapter_pe: /home/springer/zhoux379/software/miniconda3/share/trimmomatic/adapters/TruSeq3-PE.fa 
    adapter_se: /home/springer/zhoux379/software/miniconda3/share/trimmomatic/adapters/TruSeq3-SE.fa 
    threads: 8

bbduk:
    idir: 10_fastq
    odir: 14_trim
    cmd: bbduk.sh
    refs:
        - /home/springer/zhoux379/source/bbmap/resources/polyA.fa.gz
        - /home/springer/zhoux379/source/bbmap/resources/truseq.fa.gz
    extra: k=13 ktrim=r useshortkmers=t mink=5 qtrim=r trimq=10 minlength=20

blat:
    xdir: blat
    xpre: db
    x.2bit: db.2bit
    x.ooc: db.2bit.tile11.ooc

bowtie2:
    xdir: bowtie2

fastqc:
    idir: 14_trim
    extra: ''

bwa:
    xdir: bwa
    xpre: db
    xout: db.bwt
    idir: 14_trim
    odir1: 21_bwa
    odir2: 22_bam
    extra: ''
    threads: 12

star:
    xdir: star
    xpre: '' 
    xout: SA
    xthreads: 4
    idir: 14_trim
    odir1: 21_star
    odir2: 22_bam
    extra: "--outSAMmapqUnique 60
        --outFilterType BySJout 
        --outFilterMultimapNmax 20 
        --alignSJoverhangMin 8 
        --alignSJDBoverhangMin 1 
        --outFilterMismatchNmax 999 
        --outFilterMismatchNoverReadLmax 1.0 
        --alignIntronMin 20 
        --alignIntronMax 1000000 
        --alignMatesGapMax 1000000 
        --outSAMunmapped Within KeepPairs"
    threads: 8

hisat2:
    xdir: hisat2
    xpre: db
    xout: db.1.ht2
    xthreads: 4
    idir: 14_trim
    odir1: 21_hisat2
    odir2: 22_bam
    extra: --new-summary
    threads: 8

sambamba:
    threads: 8
    sort:
        extra: -m 11GB
    merge:
        extra: ''
    flagstat:
        extra: ''

featurecounts:
    idir: 22_bam
    odir: 31_featurecounts
    out: featurecounts.tsv
    cmd: featureCounts
    extra: --primary -Q 20 -t exon -g gene_id --byReadGroup
    threads: 4

callvnt:
    idir: 22_bam
    odir1: 25_gvcf
    odir2: 26_vcf_by_region
    outfile: 26.vcf.gz

bcftools:
    call:
        threads: 1
        extra: ''
    merge:
        threads: 2
        extra: ''
    concat:
        threads: 1
        extra: ''
    gtcheck:
        odir: 27_gtcheck
        vcf: /home/springer/zhoux379/projects/biomap/data/variants/62biomAP.snp.vcf.gz
        extra: -G 1

gatk:
    xdir: gatk
    xref: db.fasta
    xref.fai: db.fasta.fai
    xref.dict: db.dict
    cmd: gatk
    java_mem: 20G
    haplotype_caller:
        java_mem: 14G
        threads: 1
        extra: ''
    gather_vcfs:
        threads: 1
        extra: ''
    genotype_gvcfs:
        java_mem: 20G
        threads: 4
        extra: ''
    variant_filtration:
        threads: 1
        extra: ''

ase:
    idir: 22_bam
    odir: 33_ase
    variant_dir: /home/springer/zhoux379/projects/biomap/data/variants_reseq
    variant_dir2: /home/springer/zhoux379/projects/biomap/data/variants_rnaseq
    extra: ''

multiqc:
    extra: ''

